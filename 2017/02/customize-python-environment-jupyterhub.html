<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Customize your Python environment in Jupyterhub | Andrea Zonca</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Customize your Python environment in Jupyterhub" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Usecase: You have access to a Jupyterhub server and you would like to install some packages but cannot use pip install and modify the systemwide Python installation." />
<meta property="og:description" content="Usecase: You have access to a Jupyterhub server and you would like to install some packages but cannot use pip install and modify the systemwide Python installation." />
<link rel="canonical" href="https://zonca.dev/2017/02/customize-python-environment-jupyterhub.html" />
<meta property="og:url" content="https://zonca.dev/2017/02/customize-python-environment-jupyterhub.html" />
<meta property="og:site_name" content="Andrea Zonca" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-02-24T12:00:00-06:00" />
<script type="application/ld+json">
{"description":"Usecase: You have access to a Jupyterhub server and you would like to install some packages but cannot use pip install and modify the systemwide Python installation.","headline":"Customize your Python environment in Jupyterhub","dateModified":"2017-02-24T12:00:00-06:00","datePublished":"2017-02-24T12:00:00-06:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://zonca.dev/2017/02/customize-python-environment-jupyterhub.html"},"url":"https://zonca.dev/2017/02/customize-python-environment-jupyterhub.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://zonca.dev/feed.xml" title="Andrea Zonca" /><link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Customize your Python environment in Jupyterhub | Andrea Zonca</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Customize your Python environment in Jupyterhub" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Usecase: You have access to a Jupyterhub server and you would like to install some packages but cannot use pip install and modify the systemwide Python installation." />
<meta property="og:description" content="Usecase: You have access to a Jupyterhub server and you would like to install some packages but cannot use pip install and modify the systemwide Python installation." />
<link rel="canonical" href="https://zonca.dev/2017/02/customize-python-environment-jupyterhub.html" />
<meta property="og:url" content="https://zonca.dev/2017/02/customize-python-environment-jupyterhub.html" />
<meta property="og:site_name" content="Andrea Zonca" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-02-24T12:00:00-06:00" />
<script type="application/ld+json">
{"description":"Usecase: You have access to a Jupyterhub server and you would like to install some packages but cannot use pip install and modify the systemwide Python installation.","headline":"Customize your Python environment in Jupyterhub","dateModified":"2017-02-24T12:00:00-06:00","datePublished":"2017-02-24T12:00:00-06:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://zonca.dev/2017/02/customize-python-environment-jupyterhub.html"},"url":"https://zonca.dev/2017/02/customize-python-environment-jupyterhub.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet" />
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css"><link type="application/atom+xml" rel="alternate" href="https://zonca.dev/feed.xml" title="Andrea Zonca" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
    <script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"> </script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    // remove paragraph tags in rendered toc (happens from notebooks)
    var toctags = document.querySelectorAll(".toc-entry")
    toctags.forEach(e => (e.firstElementChild.innerText = e.firstElementChild.innerText.replace('¶', '')))
    });
</script>
</head><body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Andrea Zonca</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About Me</a><a class="page-link" href="/search/">Search</a><a class="page-link" href="/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Customize your Python environment in Jupyterhub</h1><p class="post-meta post-meta-title"><time class="dt-published" datetime="2017-02-24T12:00:00-06:00" itemprop="datePublished">
        Feb 24, 2017
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      1 min read
    
</span></p>

    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Usecase: You have access to a Jupyterhub server and you would like to install some packages but cannot use <code class="highlighter-rouge">pip install</code> and modify the systemwide Python installation.</p>

<h2 id="check-if-conda-is-available">Check if conda is available</h2>

<p>First check if the Python installation you have access to is based on Anaconda, open a Notebook and type:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>!which conda
</code></pre></div></div>

<p><code class="highlighter-rouge">!</code> executes bash commands instead of Python commands, we want to check if the <code class="highlighter-rouge">conda</code> package manager is installed.</p>

<p>If not, the setup is a bit tedious, so see my tutorial on <a href="https://zonca.github.io/2015/10/use-own-python-in-jupyterhub.html">installing Anaconda in your home folder</a></p>

<h2 id="create-a-conda-environment">Create a conda environment</h2>

<p>Conda allows to create independent environments in our home folder, this has the advantage that the environment will be writable so we can install any other package with <code class="highlighter-rouge">pip</code> or <code class="highlighter-rouge">conda install</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>!conda create -n myownenv --clone root
</code></pre></div></div>

<p>You can declare all the packages you want to install bu good starting point is just to clone the <code class="highlighter-rouge">root</code> environment, this will link all the global packages in your home folder, then you can customize it further.</p>

<h2 id="create-a-jupyter-notebook-kernel-to-launch-this-new-environment">Create a Jupyter Notebook kernel to launch this new environment</h2>

<p>We need to notify Jupyter of this new Python environment by creating a Kernel, from a Notebook launch:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>!source activate myownenv; ipython kernel install --user --name myownenv
</code></pre></div></div>

<h2 id="launch-a-notebook">Launch a Notebook</h2>

<p>Go back to the Jupyterhub dashboard, reload the page, now you should have another option in the <code class="highlighter-rouge">New</code> menu that says <code class="highlighter-rouge">myownenv</code>.</p>

<p>In order to use your new kernel with an existing notebook, click on the notebook file in the dashboard, it will launch with the default kernel, then you can change kernel from the top menu <code class="highlighter-rouge">Kernel</code> &gt; <code class="highlighter-rouge">Change kernel</code>.</p>

<h2 id="install-new-packages">Install new packages</h2>

<p>Inside a Notebook using the <code class="highlighter-rouge">myownenv</code> environment you can install other packages running:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>!conda install newpackagename
</code></pre></div></div>

<p>or:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>!pip install newpackagename
</code></pre></div></div>

  </div><a class="u-url" href="/2017/02/customize-python-environment-jupyterhub.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>An easy to use blogging platform with support for Jupyter Notebooks.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/zonca" title="zonca"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/andreazonca" title="andreazonca"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
